[{"/Users/seven/Desktop/finalweb/front/src/index.js":"1","/Users/seven/Desktop/finalweb/front/src/App.js":"2","/Users/seven/Desktop/finalweb/front/src/pages/SignUpPage.js":"3","/Users/seven/Desktop/finalweb/front/src/components/Navigation.js":"4","/Users/seven/Desktop/finalweb/front/src/pages/LoginPage.js":"5","/Users/seven/Desktop/finalweb/front/src/pages/Favorites.js":"6","/Users/seven/Desktop/finalweb/front/src/pages/ApartmentView.js":"7","/Users/seven/Desktop/finalweb/front/src/pages/Home.js":"8","/Users/seven/Desktop/finalweb/front/src/pages/ApartmentList.js":"9","/Users/seven/Desktop/finalweb/front/src/utils/index.js":"10"},{"size":179,"mtime":1607912608000,"results":"11","hashOfConfig":"12"},{"size":1512,"mtime":1607912870000,"results":"13","hashOfConfig":"12"},{"size":2635,"mtime":1607913134000,"results":"14","hashOfConfig":"12"},{"size":1846,"mtime":1607915248000,"results":"15","hashOfConfig":"12"},{"size":1730,"mtime":1607912962000,"results":"16","hashOfConfig":"12"},{"size":2425,"mtime":1607912952000,"results":"17","hashOfConfig":"12"},{"size":3114,"mtime":1607915480000,"results":"18","hashOfConfig":"12"},{"size":3399,"mtime":1607915372000,"results":"19","hashOfConfig":"12"},{"size":846,"mtime":1607912910000,"results":"20","hashOfConfig":"12"},{"size":397,"mtime":1607914600000,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"9468l3",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/seven/Desktop/finalweb/front/src/index.js",[],["44","45"],"/Users/seven/Desktop/finalweb/front/src/App.js",[],"/Users/seven/Desktop/finalweb/front/src/pages/SignUpPage.js",[],"/Users/seven/Desktop/finalweb/front/src/components/Navigation.js",[],"/Users/seven/Desktop/finalweb/front/src/pages/LoginPage.js",[],"/Users/seven/Desktop/finalweb/front/src/pages/Favorites.js",[],"/Users/seven/Desktop/finalweb/front/src/pages/ApartmentView.js",[],"/Users/seven/Desktop/finalweb/front/src/pages/Home.js",["46"],"\nimport React, { useEffect, useState } from 'react';\nimport ApartmentList from './ApartmentList';\nimport './style/home.css';\nimport { Select, Search, Pagination, Button } from 'semantic-ui-react'\nimport R from '../utils';\n\nexport default function Home() {\n  const [apts, setApts] = useState([]);\n  const [sort, setSort] = useState('');\n  const [tag, setTag] = useState('');\n  const [search, setSearch] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const tags = ['gym', 'pool', 'house', 'apartment', 'pets', 'parking'];\n  const aptsPerPage = 12;\n  const updateSearch = (search) => {\n    if (search.length === 0 || search.length > 2) {\n      setSearch(search);\n    }\n  }\n\n  const onPageChange = (event, data) => {\n    const { activePage } = data;\n    setCurrentPage(activePage);\n  }\n\n  const filterByTags = (tag) => {\n    setTag(tag);\n  }\n\n  useEffect(() => {\n    const getApts = async () => {\n      const res = await fetch('./api/apts');\n      const apts = await res.json();\n      const taggedApts = apts.map(apt => {\n        apt.tags = R(tags, 3);\n        return apt;\n      })\n      setApts(taggedApts);\n    }\n    getApts();\n  }, [])\n\n  let finalApts = apts;\n  if (sort) {\n    if (sort === 'low') {\n      finalApts = apts.sort((a, b) => {\n\n        if (a.price && b.price) {\n          const price1 = parseInt(a.price.replace(/\\$|,/g, \"\"));\n          const price2 = parseInt(b.price.replace(/\\$|,/g, \"\"));\n          return price1 > price2 ? 1 : -1;\n        }\n        return 0;\n\n      })\n    } else {\n      finalApts = apts.sort((a, b) => {\n        if (a.price && b.price) {\n          const price1 = parseInt(a.price.replace(/\\$|,/g, \"\"));\n          const price2 = parseInt(b.price.replace(/\\$|,/g, \"\"));\n          return price1 < price2 ? 1 : -1;\n        }\n        return 0;\n      })\n    }\n  }\n  const sortOptions = [\n    { key: 'af', value: 'low', text: 'Low to High' },\n    { key: 'ax', value: 'high', text: 'High to Low' },\n  ]\n\n  // Search activates when search length is greater than 2 to prevent false searches\n  if (search.length === 0 || search.length > 2) {\n    finalApts = finalApts.filter(apt => {\n      if (apt.neighborhood) {\n        return apt.neighborhood.toLowerCase().includes(search)\n      }\n      return false;\n\n    });\n  }\n\n  if (tag) {\n    finalApts = finalApts.filter(apt => apt.tags.includes(tag));\n  }\n\n  const totalPages = Math.ceil(finalApts.length / 12);\n  finalApts = finalApts.slice(currentPage * aptsPerPage - 12, currentPage * aptsPerPage);\n\n  return (\n    <div>\n      <h1 className=\"home-title\">Find Your Home at Home Finder</h1>\n      <div className=\"filter-container\">\n        <Search\n          className=\"search\"\n          showNoResults={false}\n          onSearchChange={e => updateSearch(e.target.value)}\n        />\n        <Select className=\"select\" placeholder='Sort by Price' options={sortOptions} onChange={(e, data) => setSort(data.value)} />\n        {tags.map(currTag => (\n          <Button key={currTag} active={currTag === tag} onClick={() => filterByTags(currTag)}>{currTag}</Button>\n        ))}\n      </div>\n\n      <ApartmentList apts={finalApts.slice(0, 12)} />\n      {finalApts.length > 0 && (\n        <div className=\"pagination-container\">\n          <Pagination\n            defaultActivePage={1}\n            totalPages={totalPages}\n            onPageChange={onPageChange}\n          />\n        </div>\n      )}\n    </div>\n  );\n}","/Users/seven/Desktop/finalweb/front/src/pages/ApartmentList.js",[],"/Users/seven/Desktop/finalweb/front/src/utils/index.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":43,"column":6,"nodeType":"53","endLine":43,"endColumn":8,"suggestions":"54"},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'tags'. Either include it or remove the dependency array.","ArrayExpression",["57"],"no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},"Update the dependencies array to be: [tags]",{"range":"60","text":"61"},[1156,1158],"[tags]"]